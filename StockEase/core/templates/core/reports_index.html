{% extends 'core/base.html' %}
{% load static %}

{% block title %}Reports Dashboard{% endblock %}

{% block head_extra %}
{% endblock %}

{% block content %}
<div class="container mx-auto mt-8 px-4">
    <h1 class="text-3xl font-semibold mb-6 text-gray-800">Reports Dashboard</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Product Profitability Report Card -->
        <div class="bg-white shadow-lg rounded-lg overflow-hidden">
            <div class="bg-blue-600 text-white p-4">
                <h5 class="text-xl font-semibold">Product Profitability Report</h5>
            </div>
            <div class="p-6">
                <p class="text-gray-700 mb-4">Analyze product profitability by evaluating cost, revenue, and margins.</p>
                <form action="{% url 'product_profitability_report' %}" method="GET">
                    <div class="mb-4">
                        <label for="start_date" class="block text-sm font-medium text-gray-700 mb-1">Start Date</label>
                        <input type="date" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="start_date" name="start_date">
                    </div>
                    <div class="mb-4">
                        <label for="end_date" class="block text-sm font-medium text-gray-700 mb-1">End Date</label>
                        <input type="date" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="end_date" name="end_date">
                    </div>
                    <div class="mb-4">
                        <label for="category" class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                        <select class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="category" name="category">
                            <option value="">All Categories</option>
                            {% for cat in categories %}
                            <option value="{{ cat.id }}">{{ cat.title }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Generate Report</button>
                </form>
            </div>
        </div>
        
        <!-- Top Products Report Card -->
        <div class="bg-white shadow-lg rounded-lg overflow-hidden">
            <div class="bg-green-600 text-white p-4">
                <h5 class="text-xl font-semibold">Top Products Report</h5>
            </div>
            <div class="p-6">
                <p class="text-gray-700 mb-4">View top-performing products by quantity sold, revenue, or profit.</p>
                <form action="{% url 'top_products_report' %}" method="GET">
                    <div class="mb-4">
                        <label for="start_date_top" class="block text-sm font-medium text-gray-700 mb-1">Start Date</label>
                        <input type="date" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="start_date_top" name="start_date">
                    </div>
                    <div class="mb-4">
                        <label for="end_date_top" class="block text-sm font-medium text-gray-700 mb-1">End Date</label>
                        <input type="date" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="end_date_top" name="end_date">
                    </div>
                    <div class="mb-4">
                        <label for="category_top" class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                        <select class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="category_top" name="category">
                            <option value="">All Categories</option>
                            {% for cat in categories %}
                            <option value="{{ cat.id }}">{{ cat.title }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-4">
                        <label for="metric" class="block text-sm font-medium text-gray-700 mb-1">Metric</label>
                        <select class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="metric" name="metric">
                            <option value="quantity">Quantity Sold</option>
                            <option value="revenue">Revenue</option>
                            <option value="profit">Profit</option>
                        </select>
                    </div>
                    <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">Generate Report</button>
                </form>
            </div>
        </div>
        
        <!-- Sales vs Purchase Dashboard Card -->
        <div class="bg-white shadow-lg rounded-lg overflow-hidden">
            <div class="bg-sky-500 text-white p-4">
                <h5 class="text-xl font-semibold">Sales vs Purchase Dashboard</h5>
            </div>
            <div class="p-6">
                <p class="text-gray-700 mb-4">Compare sales and purchases over time with profit analysis.</p>
                <form action="{% url 'sales_purchase_dashboard' %}" method="GET">
                    <div class="mb-4">
                        <label for="period" class="block text-sm font-medium text-gray-700 mb-1">Time Period</label>
                        <select class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="period" name="period">
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly" selected>Monthly</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label for="months" class="block text-sm font-medium text-gray-700 mb-1">Number of Months</label>
                        <select class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="months" name="months">
                            <option value="3">Last 3 months</option>
                            <option value="6">Last 6 months</option>
                            <option value="12" selected>Last 12 months</option>
                            <option value="24">Last 24 months</option>
                        </select>
                    </div>
                    <button type="submit" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2 px-4 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-400">Generate Dashboard</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

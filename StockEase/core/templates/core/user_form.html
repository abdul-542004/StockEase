{% extends 'core/base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gray-100">
  <div class="w-full max-w-lg bg-white rounded-xl shadow-lg p-8">
    <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Create New User</h2>
    <form id="user-form" method="post" novalidate class="space-y-5">
      {% csrf_token %}
      <div>
        {{ form.username.label_tag }}
        {{ form.username|add_class:'input input-bordered w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400' }}
        {% for error in form.username.errors %}
          <div class="text-red-500 text-xs mt-1">{{ error }}</div>
        {% endfor %}
      </div>
      <div>
        {{ form.email.label_tag }}
        {{ form.email|add_class:'input input-bordered w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400' }}
        {% for error in form.email.errors %}
          <div class="text-red-500 text-xs mt-1">{{ error }}</div>
        {% endfor %}
      </div>
      <div>
        {{ form.first_name.label_tag }}
        {{ form.first_name|add_class:'input input-bordered w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400' }}
        {% for error in form.first_name.errors %}
          <div class="text-red-500 text-xs mt-1">{{ error }}</div>
        {% endfor %}
      </div>
      <div>
        {{ form.last_name.label_tag }}
        {{ form.last_name|add_class:'input input-bordered w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400' }}
        {% for error in form.last_name.errors %}
          <div class="text-red-500 text-xs mt-1">{{ error }}</div>
        {% endfor %}
      </div>
      <div>
        {{ form.role.label_tag }}
        {{ form.role|add_class:'input input-bordered w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400' }}
        {% for error in form.role.errors %}
          <div class="text-red-500 text-xs mt-1">{{ error }}</div>
        {% endfor %}
      </div>
      <div>
        {{ form.password1.label_tag }}
        {{ form.password1|add_class:'input input-bordered w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400' }}
        <div class="text-gray-500 text-xs mt-1 password-help hidden">
          <small>Password must be at least 8 characters, not entirely numeric, and not too common.</small>
        </div>
        {% for error in form.password1.errors %}
          <div class="text-red-500 text-xs mt-1">{{ error }}</div>
        {% endfor %}
      </div>
      <div>
        {{ form.password2.label_tag }}
        {{ form.password2|add_class:'input input-bordered w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400' }}
        <div class="text-gray-500 text-xs mt-1 password-help hidden">
          <small>Enter the same password as before, for verification.</small>
        </div>
        {% for error in form.password2.errors %}
          <div class="text-red-500 text-xs mt-1">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="flex gap-3 pt-2">
        <button type="submit" class="w-1/2 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded transition">Create User</button>
        <a href="{% url 'user_list' %}" class="w-1/2 py-2 px-4 bg-gray-400 hover:bg-gray-500 text-white font-semibold rounded text-center transition">Cancel</a>
      </div>
    </form>
  </div>
</div>
<script src="{% static 'js/user_form.js' %}"></script>
{% endblock %}
